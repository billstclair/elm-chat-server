<!--------------------------------------------------------------------
--
-- index.html
-- ChatClient top-level HTML
-- Copyright (c) 2018 Bill St. Clair <billstclair@gmail.com>
-- Some rights reserved.
-- Distributed under the MIT License
-- See LICENSE.txt
--
---------------------------------------------------------------------->

<html>
  <head>
    <title>Elm Chat</title>
    <meta charset="UTF-8">
    <script type='text/javascript' src='index.js'></script>
    <script type='text/javascript' src='js/ElmLocalStoragePorts.js'></script>
    <script type='text/javascript' src='js/elmNotifications.js'></script>
  </head>
  <body>
    <script type='text/javascript'>
var date = new Date();
var timezoneOffset = date.getTimezoneOffset();

var app = Elm.PortChat.fullscreen();

app.ports.notify.subscribe(function(obj) {
  elmNotifications.notify(obj.title, obj.body, obj.image);
});

ElmLocalStoragePorts.subscribe(app);
    </script>
    <noscript>
      <div style='width:40em; margin: 0 auto;text-align: center;'>
        <h2>Elm Chat</h2>
        <p style='color: red; font-size: 200%; font-weight: bold;'>
          This site is generated by Elm JavaScript. If you're seeing this you have JavaScript disabled. Turn on JavaScript to use chat.
        </p>
        <p>
          &copy; Copyright 2018 Bill St. Clair
          <br/>
          <a href='https://xossbow.com/'>Xossbow</a>
          <a href='https://github.com/billstclair/elm-chat-server'>GitHub</a>
        </p>
      </div>
    </noscript>
  </body>
</html>
